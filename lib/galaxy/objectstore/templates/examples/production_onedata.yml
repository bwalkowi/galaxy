- id: onedata
  name: Onedata Storage
  version: 0
  description: |
    This template allows using Onedata storage.

    Onedata is a global data management system providing a unified data access
    interface across different storage providers. More information on Onedata
    can be found in [Onedata's website](https://onedata.org/#/home).
  variables:
    onezone_domain:
      label: Onezone Domain
      type: string
      help: Domain of the Onezone service (e.g. datahub.egi.eu) to connect to.
    disable_tls_certificate_validation:
      label: Disable tls certificate validation?
      type: boolean
      help: |
        Allows connection to Onedata servers that do not present trusted SSL certificates.
        SHOULD NOT be used unless you really know what you are doing.
      default: False
    space_name:
      label: Space Name
      type: string
      help: The name of the Onedata space where the Galaxy data will be stored.
    galaxy_root_dir:
      label: Galaxy root directory
      type: string
      help: |
        The relative directory path in the space under which the Galaxy data
        will be stored.
      default: ""
  secrets:
    access_token:
      label: REST Access Token
      help: Your access token, suitable for REST API access in a Oneprovider service.
  configuration:
    type: onedata
    auth:
      access_token: '{{ secrets.access_token }}'
    connection:
      onezone_domain: "{{ variables.onezone_domain }}"
      disable_tls_certificate_validation: "{{ variables.disable_tls_certificate_validation }}"
    space:
      name: "{{ variables.space_name }}"
      galaxy_root_dir: "{{ variables.galaxy_root_dir }}"
